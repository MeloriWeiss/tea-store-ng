"use strict";(self.webpackChunkControlWork22_tea=self.webpackChunkControlWork22_tea||[]).push([[503],{3503:(j,f,i)=>{i.r(f),i.d(f,{OrderModule:()=>M});var _=i(6895),c=i(5450),o=i(433),g=i(8505),v=i(9751),u=i(8256),h=i(5237),Z=i(529);let x=(()=>{class e{constructor(t){this.http=t}order(t){return this.http.post("https://testologia.ru/order-tea",t)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(Z.eN))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function C(e,n){1&e&&u._UZ(0,"div")}function A(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 "),u.qZA())}function E(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function T(e,n){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,A,2,0,"div",18),u.YNc(2,E,2,0,"div",18),u.qZA()),2&e){const t=u.oxw(2);let l,r;u.xp6(1),u.Q6J("ngIf",null==(l=t.formValues.get("name"))||null==l.errors?null:l.errors.required),u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("name"))||null==r.errors?null:r.errors.pattern)}}function b(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 "),u.qZA())}function q(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function V(e,n){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,b,2,0,"div",18),u.YNc(2,q,2,0,"div",18),u.qZA()),2&e){const t=u.oxw(2);let l,r;u.xp6(1),u.Q6J("ngIf",null==(l=t.formValues.get("lastName"))||null==l.errors?null:l.errors.required),u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("lastName"))||null==r.errors?null:r.errors.pattern)}}function O(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 "),u.qZA())}function F(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function I(e,n){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,O,2,0,"div",18),u.YNc(2,F,2,0,"div",18),u.qZA()),2&e){const t=u.oxw(2);let l,r;u.xp6(1),u.Q6J("ngIf",null==(l=t.formValues.get("phone"))||null==l.errors?null:l.errors.required),u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("phone"))||null==r.errors?null:r.errors.pattern)}}function N(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 "),u.qZA())}function y(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 "),u.qZA())}function U(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 "),u.qZA())}function B(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function J(e,n){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,U,2,0,"div",18),u.YNc(2,B,2,0,"div",18),u.qZA()),2&e){const t=u.oxw(2);let l,r;u.xp6(1),u.Q6J("ngIf",null==(l=t.formValues.get("address"))||null==l.errors?null:l.errors.required),u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("address"))||null==r.errors?null:r.errors.pattern)}}function Y(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435. \u0412\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440 "),u.qZA())}function Q(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437... "),u.qZA())}function D(e,n){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f "),u.qZA())}function z(e,n){if(1&e){const t=u.EpF();u.TgZ(0,"div")(1,"h2",4),u._uU(2,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA()(),u.TgZ(3,"form",5)(4,"div",6)(5,"div",7)(6,"label",8),u._uU(7,"\u0418\u043c\u044f"),u.qZA(),u._UZ(8,"input",9),u.YNc(9,T,3,2,"div",10),u.qZA()(),u.TgZ(10,"div",6)(11,"div",7)(12,"label",11),u._uU(13,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(14,"input",12),u.YNc(15,V,3,2,"div",10),u.qZA()(),u.TgZ(16,"div",6)(17,"div",7)(18,"label",13),u._uU(19,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(20,"input",14),u.YNc(21,I,3,2,"div",10),u.qZA()(),u.TgZ(22,"div",15)(23,"div",7)(24,"label",16),u._uU(25,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(26,"input",17),u.YNc(27,N,2,0,"div",18),u.qZA()(),u.TgZ(28,"div",15)(29,"div",7)(30,"label",19),u._uU(31,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(32,"input",20),u.YNc(33,y,2,0,"div",18),u.qZA()(),u.TgZ(34,"div",21)(35,"label",22),u._uU(36,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(37,"input",23),u.YNc(38,J,3,2,"div",10),u.qZA(),u.TgZ(39,"div",15)(40,"div",21)(41,"label",24),u._uU(42,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u.TgZ(43,"textarea",25),u._uU(44,"            "),u.qZA()()(),u.TgZ(45,"div",15)(46,"div",21)(47,"label",26),u._uU(48,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(49,"input",27),u.YNc(50,Y,2,0,"div",18),u.qZA(),u.TgZ(51,"div",28)(52,"button",29),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.order())}),u._uU(53," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),u.qZA(),u.YNc(54,Q,2,0,"div",18),u.YNc(55,D,2,0,"div",18),u.qZA()()()}if(2&e){const t=u.oxw();let l,r,s,d,a,m,p;u.xp6(3),u.Q6J("formGroup",t.formValues),u.xp6(6),u.Q6J("ngIf",(null==(l=t.formValues.get("name"))?null:l.invalid)&&((null==(l=t.formValues.get("name"))?null:l.touched)||(null==(l=t.formValues.get("name"))?null:l.dirty))),u.xp6(6),u.Q6J("ngIf",(null==(r=t.formValues.get("lastName"))?null:r.invalid)&&((null==(r=t.formValues.get("lastName"))?null:r.touched)||(null==(r=t.formValues.get("lastName"))?null:r.dirty))),u.xp6(6),u.Q6J("ngIf",(null==(s=t.formValues.get("phone"))?null:s.invalid)&&((null==(s=t.formValues.get("phone"))?null:s.touched)||(null==(s=t.formValues.get("phone"))?null:s.dirty))),u.xp6(6),u.Q6J("ngIf",(null==(d=t.formValues.get("country"))?null:d.invalid)&&((null==(d=t.formValues.get("country"))?null:d.touched)||(null==(d=t.formValues.get("country"))?null:d.dirty))&&(null==(d=t.formValues.get("country"))||null==d.errors?null:d.errors.required)),u.xp6(6),u.Q6J("ngIf",(null==(a=t.formValues.get("zip"))?null:a.invalid)&&((null==(a=t.formValues.get("zip"))?null:a.touched)||(null==(a=t.formValues.get("zip"))?null:a.dirty))&&(null==(a=t.formValues.get("zip"))||null==a.errors?null:a.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==(m=t.formValues.get("address"))?null:m.invalid)&&((null==(m=t.formValues.get("address"))?null:m.touched)||(null==(m=t.formValues.get("address"))?null:m.dirty))),u.xp6(11),u.uIk("disabled",t.processingForm),u.xp6(1),u.Q6J("ngIf",null==(p=t.formValues.get("product"))||null==p.errors?null:p.errors.required),u.xp6(2),u.Q6J("disabled",t.processingForm),u.xp6(2),u.Q6J("ngIf",t.hasError),u.xp6(1),u.Q6J("ngIf",!t.fieldsFilled)}}function k(e,n){1&e&&(u.TgZ(0,"div",31),u._uU(1,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.qZA())}const w=[{path:"",component:(()=>{class e{constructor(t,l,r){this.cartService=t,this.fb=l,this.orderService=r,this.orderComplete=!1,this.hasError=!1,this.fieldsFilled=!0,this.processingForm=!1,this.subscription=null,this.subscriptionShowError=null,this.formValues=this.fb.group({name:["",[o.kI.required,o.kI.pattern("^\\s*[\u0410-\u042f][\u0430-\u044f]+\\s*$")]],lastName:["",[o.kI.required,o.kI.pattern("^\\s*[\u0410-\u042f][\u0430-\u044f]+\\s*$")]],phone:["",[o.kI.required,o.kI.pattern("^\\+?\\d{11}$")]],country:["",o.kI.required],zip:["",o.kI.required],address:["",[o.kI.required,o.kI.pattern("^[\u0410-\u042f\u0430-\u044f0-9/ -]+$")]],comment:[""],product:["",o.kI.required]})}ngOnInit(){this.formValues.patchValue({product:this.cartService.productTitle})}order(){this.formValues.valid?(this.processingForm=!0,this.fieldsFilled=!0,this.subscription=this.orderService.order({name:this.formValues.get("name")?.value,last_name:this.formValues.get("lastName")?.value,phone:this.formValues.get("phone")?.value,country:this.formValues.get("country")?.value,zip:this.formValues.get("zip")?.value,product:this.formValues.get("product")?.value,address:this.formValues.get("address")?.value,comment:this.formValues.get("comment")?.value}).pipe((0,g.b)(()=>{this.processingForm=!1})).subscribe({next:t=>{if(1===t.success)this.orderComplete=!0,this.hasError=!1,this.formValues.reset();else{this.orderComplete=!1,this.hasError=!0;const l=new v.y(r=>{const s=setTimeout(()=>{r.next(!1)},3e3);return{unsubscribe(){clearTimeout(s)}}});this.subscriptionShowError=l.subscribe({next:r=>{this.hasError=r}})}},error:t=>{console.log(t),this.orderComplete=!1,this.hasError=!0}})):this.fieldsFilled=!1}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscriptionShowError?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(h.N),u.Y36(o.qu),u.Y36(x))},e.\u0275cmp=u.Xpm({type:e,selectors:[["order-component"]],decls:8,vars:3,consts:[[1,"container","inputs","d-flex","justify-content-center","align-items-center","min-vh-100"],[4,"ngIf","ngIfThen","ngIfElse"],["form",""],["thanks",""],[1,"text-center","mt-5","mb-5"],[1,"row","col-12","col-lg-7","ms-auto","me-auto","wow","animate__fadeInRight",3,"formGroup"],[1,"col-12","col-md-4"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],[4,"ngIf"],["for","last-name",1,"form-label"],["type","text","id","last-name","formControlName","lastName",1,"form-control"],["for","phone",1,"form-label"],["type","tel","id","phone","formControlName","phone",1,"form-control"],[1,"col-12","col-md-6"],["for","country",1,"form-label"],["type","text","id","country","formControlName","country",1,"form-control"],["class","text-danger",4,"ngIf"],["for","zip",1,"form-label"],["type","text","id","zip","formControlName","zip",1,"form-control"],[1,"col-12","mb-3"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control"],["for","comment",1,"form-label"],["id","comment","formControlName","comment",1,"form-control"],["for","product",1,"form-label"],["type","text","id","product","formControlName","product",1,"form-control"],[1,"col-12","text-end"],["type","button",1,"form-button","btn","btn-primary","mt-2","col-4","hvr-rotate","border-0","wow","animate__bounce",3,"disabled","click"],[1,"text-danger"],[1,"fw-bold","fs-2","text-secondary"]],template:function(t,l){if(1&t&&(u.TgZ(0,"section")(1,"div",0)(2,"div"),u.YNc(3,C,1,0,"div",1),u.YNc(4,z,56,12,"ng-template",null,2,u.W1O),u.YNc(6,k,2,0,"ng-template",null,3,u.W1O),u.qZA()()()),2&t){const r=u.MAs(5),s=u.MAs(7);u.xp6(3),u.Q6J("ngIf",!l.orderComplete)("ngIfThen",r)("ngIfElse",s)}},dependencies:[_.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[c.Bz.forChild(w),c.Bz]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[_.ez,o.UX,c.Bz,S]}),e})()}}]);